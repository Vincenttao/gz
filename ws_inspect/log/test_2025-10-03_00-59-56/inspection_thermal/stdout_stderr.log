============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-7.4.4, pluggy-1.4.0
cachedir: /home/vincent/gz/ws_inspect/build/inspection_thermal/.pytest_cache
rootdir: /home/vincent/gz/ws_inspect/src/inspection_thermal
plugins: launch-testing-ros-0.26.9, ament-pep257-0.17.3, ament-lint-0.17.3, launch-testing-3.4.6, ament-copyright-0.17.3, ament-xmllint-0.17.3, ament-flake8-0.17.3, colcon-core-0.20.0, cov-4.1.0
collected 1 item

=============================== warnings summary ===============================
tests/test_thermal_alarm.py::test_alarm_engages_and_clears
  Warning: Failed to fini rosout publisher: rcl node implementation is invalid, at ./src/rcl/node.c:390

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
tests/test_thermal_alarm.py F                                            [100%]

=================================== FAILURES ===================================
________________________ test_alarm_engages_and_clears _________________________
tests/test_thermal_alarm.py:26: in test_alarm_engages_and_clears
    node = ThermalAlarmNode(pose_provider=provider)
src/inspection_thermal/thermal_alarm_node.py:31: in __init__
    super().__init__("thermal_alarm_node")
/opt/ros/jazzy/lib/python3.12/site-packages/rclpy/node.py:187: in __init__
    self.__node = _rclpy.Node(
E   rclpy._rclpy_pybind11.RCLError: error creating node: __create_participant failed to create participant, at ./src/participant.cpp:107, at ./src/rcl/node.c:252
----------------------------- Captured stdout call -----------------------------
[37;1m2025-10-03 00:59:57.047 [31;1m[[37;1mRTPS_TRANSPORT_SHM[31;1m Error] [37mFailed to create segment eb50e6d53651412c: Permission denied[34;1m -> Function [36mcompute_per_allocation_extra_size[m
[37;1m2025-10-03 00:59:57.047 [31;1m[[37;1mRTPS_TRANSPORT_SHM[31;1m Error] [37mFailed to create Shared Memory Manager for domain fastrtps: Permission denied[34;1m -> Function [36mcreate[m
[37;1m2025-10-03 00:59:57.048 [31;1m[[37;1mRTPS_PARTICIPANT[31;1m Error] [37mUnable to Register SHM Transport. SHM Transport is not supported in the current platform.[34;1m -> Function [36mRTPSParticipantImpl[m
[37;1m2025-10-03 00:59:57.048 [31;1m[[37;1mTRANSPORT_UDP[31;1m Error] [37mError creating socket: Operation not permitted[34;1m -> Function [36minit[m
[37;1m2025-10-03 00:59:57.048 [31;1m[[37;1mRTPS_PARTICIPANT[31;1m Error] [37mUser transport failed to register.[34;1m -> Function [36mRTPSParticipantImpl[m
[37;1m2025-10-03 00:59:57.048 [31;1m[[37;1mRTPS_PARTICIPANT[31;1m Error] [37mCannot create participant due to initialization error[34;1m -> Function [36mcreateParticipant[m
[37;1m2025-10-03 00:59:57.049 [31;1m[[37;1mDOMAIN_PARTICIPANT[31;1m Error] [37mProblem creating RTPSParticipant[34;1m -> Function [36menable[m
----------------------------- Captured stderr call -----------------------------
getifaddrs: Operation not permitted
getifaddrs: Operation not permitted
getifaddrs: Operation not permitted
- generated xml file: /home/vincent/gz/ws_inspect/build/inspection_thermal/pytest.xml -
=========================== short test summary info ============================
FAILED tests/test_thermal_alarm.py::test_alarm_engages_and_clears - rclpy._rc...
========================= 1 failed, 1 warning in 0.46s =========================
